<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="面试题目"><meta name="keywords" content="面试"><meta name="author" content="琅琊旻"><meta name="copyright" content="琅琊旻"><title>面试题目 | 琅琊旻</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-1150529212462758',
  enable_page_level_ads: 'true'
});
</script><link rel="dns-prefetch" href="http://ta.qq.com"><script>(function() {
   var hm = document.createElement("script");
   hm.src = "https://tajs.qq.com/stats?sId=66535930";
   var s = document.getElementsByTagName("script")[0];
   s.parentNode.insertBefore(hm, s);
 })();</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.2.0'
} </script><meta name="generator" content="Hexo 5.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%88%E5%B9%B6%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8"><span class="toc-number">1.</span> <span class="toc-text"> 合并两个链表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8%E5%8F%8D%E5%BA%8F%E8%BE%93%E5%87%BA%E4%B8%8D%E5%A4%96%E7%94%B3%E8%AF%B7%E5%86%85%E5%AD%98%E7%A9%BA%E9%97%B4"><span class="toc-number">2.</span> <span class="toc-text"> 链表反序输出,不外申请内存空间</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#010203%E5%90%97%E4%B8%BA%E4%BB%80%E4%B9%88"><span class="toc-number">3.</span> <span class="toc-text"> 0.1+0.2&#x3D;&#x3D;&#x3D;0.3吗?，为什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0arrayreduce"><span class="toc-number">4.</span> <span class="toc-text"> 手动实现Array.reduce()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">5.</span> <span class="toc-text"> 垂直居中的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F-jsonp%E5%8E%9F%E7%90%86-cors%E5%8E%9F%E7%90%86"><span class="toc-number">6.</span> <span class="toc-text"> 跨域、jsonp原理、CORS原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#transform-transition-animation-%E5%8C%BA%E5%88%AB"><span class="toc-number">7.</span> <span class="toc-text"> transform 、transition 、 animation 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D%E4%B8%80%E4%B8%8Bpromise%E4%BB%A5%E5%8F%8A%E5%86%85%E9%83%A8%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">8.</span> <span class="toc-text"> 介绍一下Promise以及内部的实现。</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#promisea%E8%A7%84%E8%8C%83"><span class="toc-number">8.1.</span> <span class="toc-text"> Promise&#x2F;A+规范</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%B7%B1%E5%AE%9E%E7%8E%B0%E6%80%9D%E8%B7%AF"><span class="toc-number">8.2.</span> <span class="toc-text"> 自己实现思路</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E6%9C%89%E5%93%AA%E4%BA%9B%E6%96%B9%E6%B3%95"><span class="toc-number">9.</span> <span class="toc-text"> JS实现异步有哪些方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#symbol%E7%94%A8%E6%B3%95"><span class="toc-number">10.</span> <span class="toc-text"> Symbol用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#proxy"><span class="toc-number">11.</span> <span class="toc-text"> Proxy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#fetchapi-%E5%92%8Cxhrajaxaxios%E7%9A%84%E4%B8%BB%E8%A6%81%E5%8C%BA%E5%88%AB"><span class="toc-number">12.</span> <span class="toc-text"> FetchApi 和XHR(ajax,axios)的主要区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%9B%92%E5%AD%90%E9%AB%98%E5%BA%A6%E6%98%AF%E5%AE%BD%E5%BA%A6%E7%9A%84%E4%B8%80%E5%8D%8A%E7%BA%AFcss"><span class="toc-number">13.</span> <span class="toc-text"> 实现一个盒子高度是宽度的一半(纯CSS)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8D%E5%90%8C%E6%B5%8F%E8%A7%88%E5%99%A8%E6%A0%87%E7%AD%BE%E9%A1%B5%E7%9A%84%E9%80%9A%E4%BF%A1"><span class="toc-number">14.</span> <span class="toc-text"> 不同浏览器标签页的通信</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E4%B8%8E%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">15.</span> <span class="toc-text"> 线程与进程的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84"><span class="toc-number">16.</span> <span class="toc-text"> 浏览器是如何工作的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9E%E6%B5%81%E5%92%8C%E9%87%8D%E7%BB%98%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">17.</span> <span class="toc-text"> 回流和重绘的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#express%E5%92%8Ckoa%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">18.</span> <span class="toc-text"> express和koa的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#koa%E7%9A%84%E6%B4%8B%E8%91%B1%E6%A8%A1%E5%9E%8Bkoa%E4%B8%AD%E9%97%B4%E4%BB%B6%E5%8E%9F%E7%90%86"><span class="toc-number">19.</span> <span class="toc-text"> koa的洋葱模型(koa中间件原理)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E7%B4%A2%E5%BC%95%E5%A4%AA%E5%A4%9A%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E5%BD%B1%E5%93%8D%E7%B4%A2%E5%BC%95%E7%A7%8D%E7%B1%BB"><span class="toc-number">20.</span> <span class="toc-text"> mysql索引太多会有什么影响,索引种类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFseo"><span class="toc-number">21.</span> <span class="toc-text"> 什么是SEO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0bfs%E7%AE%97%E6%B3%95%E5%B9%BF%E5%BA%A6%E4%BC%98%E5%85%88%E9%81%8D%E5%8E%86"><span class="toc-number">22.</span> <span class="toc-text"> 实现BFS算法(广度优先遍历)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">23.</span> <span class="toc-text"> 实现观察者模式(发布订阅模式)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0proxy"><span class="toc-number">24.</span> <span class="toc-text"> 手动实现Proxy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#proxy-%E5%AE%9E%E7%8E%B0vue%E6%95%B0%E6%8D%AE%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A"><span class="toc-number">25.</span> <span class="toc-text"> Proxy 实现Vue数据双向绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">26.</span> <span class="toc-text"> 单例模式&#x2F;工厂模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E5%87%BD%E6%95%B0%E6%9F%AF%E9%87%8C%E5%8C%96"><span class="toc-number">27.</span> <span class="toc-text"> JS函数柯里化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAsum%E5%87%BD%E6%95%B0%E4%BD%BF%E5%BE%97sum123valueof%E5%92%8Csum123valueof%E6%89%A7%E8%A1%8C%E8%BE%93%E5%87%BA%E7%9A%84%E7%BB%93%E6%9E%9C%E9%83%BD%E7%AD%89%E4%BA%8E6"><span class="toc-number">28.</span> <span class="toc-text"> 实现一个sum函数使得sum(1,2,3).valueOf()和sum(1)(2)(3).valueOf()执行输出的结果都等于6</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E6%B7%B1%E6%8B%B7%E8%B4%9D%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">29.</span> <span class="toc-text"> 手动实现对象深拷贝的方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%98%B2%E6%8A%96%E8%8A%82%E6%B5%81"><span class="toc-number">30.</span> <span class="toc-text"> 防抖节流</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">31.</span> <span class="toc-text"> 总结</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://blogimage.lemonlife.top/201910302316_962.jpg"></div><div class="author-info__name text-center">琅琊旻</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/wmwgithub">GitHub关注</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">43</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">21</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.dzou.top">Dzou's Blog</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://boyn.top">Boyn</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://www.parak.top/">ParaK</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://luo-xi.xyz/">洛臣心</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.uchihakakashi.top/">Uchkks's Blog</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://crassulalactea.github.io/">Crassula</a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">琅琊旻</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">首页</a><a class="site-page" href="/archives">归档</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">类别</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">面试题目</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-10</time></div><div class="article-container" id="post-content"><h3 id="合并两个链表"><a class="markdownIt-Anchor" href="#合并两个链表"></a> 合并两个链表</h3>
<blockquote>
<p>具体解法见博客 <a target="_blank" rel="noopener" href="http://lemonlife.top/2020/02/06/mergeListNode/">合并两个排序的链表</a></p>
</blockquote>
<h3 id="链表反序输出不外申请内存空间"><a class="markdownIt-Anchor" href="#链表反序输出不外申请内存空间"></a> 链表反序输出,不外申请内存空间</h3>
<blockquote>
<p>具体解法见博客 <a target="_blank" rel="noopener" href="http://lemonlife.top/2020/02/10/reverse-linked-list/">反转链表</a></p>
</blockquote>
<h3 id="010203吗为什么"><a class="markdownIt-Anchor" href="#010203吗为什么"></a> 0.1+0.2===0.3吗?，为什么</h3>
<blockquote>
<p>在JS运行环境中 <code>0.1+0.2=0.30000000000000004</code><br />
<code>(0.1).toString(2)=0.0001100110011001100110011001100110011001100110011001101</code>,小数在转换成二进制存储时容易造成无限循环的形式<br />
解决办法: 可将小数转换成整数计算,如: <code>(0.1*10+0.2*10)/10</code></p>
</blockquote>
<h3 id="手动实现arrayreduce"><a class="markdownIt-Anchor" href="#手动实现arrayreduce"></a> 手动实现Array.reduce()</h3>
<p>数组先依次传给<code>a,b</code> 然后返回值给a,下一个值给b,依次迭代。直到数组结束。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line"><span class="keyword">let</span> sum = array.reduce(<span class="function">(<span class="params">a,b</span>)=&gt;</span>a+b)</span><br><span class="line"><span class="built_in">console</span>.log(sum)  <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>手动实现如下</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="built_in">Array</span>.prototype.MyReduce = <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.length &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> params(...this)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [params(...this), ...this.slice(<span class="number">2</span>)].MyReduce(params)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> sum = array.MyReduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b)</span><br><span class="line"><span class="built_in">console</span>.log(sum) <span class="comment">// 15</span></span><br><span class="line"><span class="keyword">let</span> multiply = array.MyReduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a * b)</span><br><span class="line"><span class="built_in">console</span>.log(multiply) <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>
<h3 id="垂直居中的方法"><a class="markdownIt-Anchor" href="#垂直居中的方法"></a> 垂直居中的方法</h3>
<ol>
<li><code>flex</code>布局 <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">flex</span>;</span><br><span class="line"><span class="selector-tag">flex-direction</span>: <span class="selector-tag">column</span>;  </span><br><span class="line"><span class="selector-tag">justify-content</span>: <span class="selector-tag">center</span>;</span><br><span class="line"><span class="selector-tag">align-items</span>: <span class="selector-tag">center</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>使用 <code>display:-webkit-box</code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</span><br><span class="line"><span class="selector-tag">-webkit-box-align</span>: <span class="selector-tag">center</span>;</span><br><span class="line"><span class="selector-tag">-webkit-box-pack</span>: <span class="selector-tag">center</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>通过 <code>display:table-cell</code>, 对子元素设置宽高会失效<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">table-cell</span>;</span><br><span class="line"><span class="selector-tag">vertical-align</span>: <span class="selector-tag">middle</span>;</span><br><span class="line"><span class="selector-tag">text-align</span>: <span class="selector-tag">center</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>使用绝对定位和负边距,假设盒子本身宽高 <code>50px</code><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line"><span class="selector-tag">left</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line"><span class="selector-tag">top</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line"><span class="selector-tag">margin-left</span><span class="selector-pseudo">:-25px</span>;</span><br><span class="line"><span class="selector-tag">margin-top</span><span class="selector-pseudo">:-25px</span>;</span><br></pre></td></tr></table></figure>
</li>
<li>使用transform:translate定位<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">position</span>: <span class="selector-tag">absolute</span>;</span><br><span class="line"><span class="selector-tag">top</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line"><span class="selector-tag">left</span><span class="selector-pseudo">:50</span>%;</span><br><span class="line"><span class="selector-tag">width</span><span class="selector-pseudo">:100</span>%;</span><br><span class="line"><span class="selector-tag">transform</span><span class="selector-pseudo">:translate(-50</span>%,<span class="selector-tag">-50</span>%);</span><br></pre></td></tr></table></figure>
</li>
<li>针对文本可采用<code>line-height</code>来实现垂直居中,<code>text-align:center</code> 实现水平居中</li>
</ol>
<h3 id="跨域-jsonp原理-cors原理"><a class="markdownIt-Anchor" href="#跨域-jsonp原理-cors原理"></a> 跨域、jsonp原理、CORS原理</h3>
<p>跨域是浏览器的安全政策下的一种同源策略,同源政策的目的，是为了保证用户信息的安全，防止恶意的网站窃取数据。要求访问资源时要 <code>协议相同</code>、<code>域名相同</code> 、 <code>端口相同</code>。</p>
<p><strong>解决不能跨域请求资源的办法</strong><br />
<strong>JSONP:</strong> JSONP是利用浏览器对script的资源引用没有同源限制，通过动态插入一个script标签，当资源加载到页面后会立即执行的原理实现跨域的。JSONP是一种非正式传输协议，该协议的一个要点就是允许用户传递一个callback或者开始就定义一个回调方法，参数给服务端，然后服务端返回数据时会将这个callback参数作为函数名来包裹住JSON数据，这样客户端就可以随意定制自己的函数来自动处理返回数据了。JSONP只支持GET请求而不支持POST等其它类型的HTTP请求,它只支持跨域HTTP请求这种情况，不能解决不同域的两个页面之间如何进行JavaScript调用的问题，JSONP的优势在于支持老式浏览器，弊端也比较明显：需要客户端和服务端定制进行开发，服务端返回的数据不能是标准的Json数据，而是callback包裹的数据。<br/><br />
<strong>CORS</strong>:(IE10以下不支持)CORS是现代浏览器支持跨域资源请求的一种方式，全称是&quot;跨域资源共享&quot;（Cross-origin resource sharing），当使用XMLHttpRequest发送请求时，浏览器发现该请求不符合同源策略，会给该请求加一个请求头：Origin，后台进行一系列处理，如果确定接受请求则在返回结果中加入一个响应头：Access-Control-Allow-Origin;浏览器判断该相应头中是否包含Origin的值，如果有则浏览器会处理响应，我们就可以拿到响应数据，如果不包含浏览器直接驳回，这时我们无法拿到响应数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Origin&quot;</span>, origin);</span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Methods&quot;</span>, <span class="string">&quot;POST, GET, OPTIONS, DELETE,PATCH&quot;</span>);</span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Max-Age&quot;</span>, <span class="string">&quot;3600&quot;</span>);</span><br><span class="line">response.setHeader(<span class="string">&quot;Access-Control-Allow-Headers&quot;</span>, <span class="string">&quot;x-requested-with&quot;</span>);</span><br><span class="line"><span class="comment">// 是否支持cookie跨域</span></span><br><span class="line">response.addHeader(<span class="string">&quot;Access-Control-Allow-Credentials&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line">复制代码</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_34150830/article/details/91438855">CSDN答案</a></p>
</blockquote>
<h3 id="transform-transition-animation-区别"><a class="markdownIt-Anchor" href="#transform-transition-animation-区别"></a> <code>transform</code> 、<code>transition</code> 、 <code>animation</code> 区别</h3>
<blockquote>
<p><code>transform</code> 、<code>transition</code> 都是写在对应元素CSS样式里面的。<code>animation</code> 通过(<code>@keyframes</code>) 绑定对应的clss选择器,来控制元素样式。<br />
<code>transform</code>有<code>rotate|skew|scale|translate</code>(旋转|扭曲|缩放|移动)等属性<br />
<code>transition</code> ,只是一个过渡 只能设置 ,样式初始值和结束值,包括一些简单的控制样式过渡的属性<br />
<code>animation</code> 不改变元素的属性。动画结束后还原。有很多动画api,基本可以控制每一帧动画。例如可以控制 动画间隔，以及动画次数,甚至可以控制反向播放</p>
</blockquote>
<h3 id="介绍一下promise以及内部的实现"><a class="markdownIt-Anchor" href="#介绍一下promise以及内部的实现"></a> 介绍一下Promise以及内部的实现。</h3>
<blockquote>
<p>Promise是为了解决Javascript回调嵌套过多而产生的。因为支持链式调用，而且书写更加方便，并纳入了ES2015规范中</p>
</blockquote>
<h4 id="promisea规范"><a class="markdownIt-Anchor" href="#promisea规范"></a> Promise/A+规范</h4>
<ul>
<li>pendding 表示初始状态,可以转移到 <code>fullfilled</code> 或者 <code>rejected</code> 状态。</li>
<li><code>fullfilled</code> 表示操作成功，状态不可转移。</li>
<li><code>rejected</code> 表示操作失败，状态不可转移。</li>
<li>必须有一个 <code>then</code> 异步执行方法，<code>then</code> 接收两个参数且必须返回一个 <code>promise</code>。</li>
</ul>
<p><img src="http://blogimage.lemonlife.top/202002161328_665.png?/" alt="MDN上Promise状态图" /></p>
<h4 id="自己实现思路"><a class="markdownIt-Anchor" href="#自己实现思路"></a> 自己实现思路</h4>
<p>从上面描述可知，要实现Promise需要有</p>
<ul>
<li>status 当前的状态(<code>pending|fullfilled|rejected</code>)</li>
<li>value <code>fullfilled</code>之后的返回值。</li>
<li>reason <code>rejected</code>之后的原因</li>
<li>fullfilledCallback <code>fillfulled</code>回调队列</li>
<li>rejectedCallback <code>rejected</code> 回调队列</li>
</ul>
<p><strong>简单版本</strong></p>
<blockquote>
<p>这个代码来源 github 面试写出这个已经够了，下面那个复杂版本，我自己写着玩的。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PENDING = <span class="string">&#x27;pending&#x27;</span></span><br><span class="line"><span class="keyword">const</span> RESOLVED = <span class="string">&#x27;resolved&#x27;</span></span><br><span class="line"><span class="keyword">const</span> REJECTED = <span class="string">&#x27;rejected&#x27;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">exec</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> self = <span class="built_in">this</span></span><br><span class="line">  <span class="built_in">this</span>.state = PENDING</span><br><span class="line">  <span class="built_in">this</span>.value = <span class="literal">null</span></span><br><span class="line">  <span class="built_in">this</span>.resolvedCallBacks = []</span><br><span class="line">  <span class="built_in">this</span>.rejectedCallBacks = []</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">      <span class="keyword">return</span> value.then(resolve, reject)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (self.state === PENDING) &#123;</span><br><span class="line">        self.state = RESOLVED</span><br><span class="line">        self.value = value</span><br><span class="line">        self.resolvedCallBacks.forEach(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">          callback(value)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reason</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (self.state === PENDING) &#123;</span><br><span class="line">        self.state = REJECTED</span><br><span class="line">        self.value = reason</span><br><span class="line">        self.rejectedCallBacks.forEach(<span class="function"><span class="params">callback</span> =&gt;</span> &#123;</span><br><span class="line">          callback(value)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    exec(resolve, reject)</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    reject(e)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onResolved, onRejected</span>) </span>&#123;</span><br><span class="line">  onResolved = <span class="keyword">typeof</span> onResolved === <span class="string">&#x27;function&#x27;</span> ? onResolved : <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line">  &#125;</span><br><span class="line">  onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">&#x27;function&#x27;</span> ? onRejected : <span class="function"><span class="keyword">function</span> (<span class="params">reason</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">throw</span> reason</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.state === PENDING) &#123;</span><br><span class="line">    <span class="built_in">this</span>.resolvedCallBacks.push(onResolved)</span><br><span class="line">    <span class="built_in">this</span>.rejectedCallBacks.push(onRejected)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.state === RESOLVED) &#123;</span><br><span class="line">    onResolved(<span class="built_in">this</span>.value)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">this</span>.state === REJECTED) &#123;</span><br><span class="line">    onRejected(<span class="built_in">this</span>.value)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>复杂版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">const</span> PENDING = <span class="string">&#x27;pendiing&#x27;</span></span><br><span class="line"> <span class="keyword">const</span> RESOLVED = <span class="string">&#x27;resolved&#x27;</span></span><br><span class="line"> <span class="keyword">const</span> REJECTED = <span class="string">&#x27;rejected&#x27;</span></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>excutor 同步执行器函数 </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> <span class="function"><span class="keyword">function</span> <span class="title">MyPromise</span>(<span class="params">excutor</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">this</span>.status = PENDING</span><br><span class="line">   <span class="built_in">this</span>.data = <span class="literal">undefined</span></span><br><span class="line">   <span class="built_in">this</span>.callbacks = []</span><br><span class="line">   <span class="keyword">let</span> _self = <span class="built_in">this</span></span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">resolve</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">     <span class="comment">// 状态 改成 resolve</span></span><br><span class="line">     <span class="comment">// 报错value 数据</span></span><br><span class="line">     <span class="comment">// 执行回调函数</span></span><br><span class="line">     <span class="keyword">if</span> (_self.status !== PENDING) &#123;</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line">     _self.status = RESOLVED</span><br><span class="line">     _self.data = value</span><br><span class="line">     <span class="keyword">if</span> (_self.callbacks.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">         _self.callbacks.forEach(<span class="function"><span class="params">callbacksObj</span> =&gt;</span> &#123;</span><br><span class="line">           callbacksObj.onResolved(value)</span><br><span class="line">         &#125;)</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">function</span> <span class="title">reject</span>(<span class="params">reason</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (_self.status !== PENDING) &#123;</span><br><span class="line">       <span class="keyword">return</span></span><br><span class="line">     &#125;</span><br><span class="line">     _self.status = REJECTED</span><br><span class="line">     _self.data = reason</span><br><span class="line">     <span class="keyword">if</span> (_self.callbacks.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">       <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">         _self.callbacks.forEach(<span class="function"><span class="params">callbacksObj</span> =&gt;</span> &#123;</span><br><span class="line">           callbacksObj.onRejected(value)</span><br><span class="line">         &#125;)</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// 如果执行器 抛出异常 promise 变成 reject状态</span></span><br><span class="line">   <span class="keyword">try</span> &#123;</span><br><span class="line">     excutor(resolve, reject)</span><br><span class="line">   &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">     reject(error)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * Promise 实例对象 then</span></span><br><span class="line"><span class="comment">  *  <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>onResolved 成功状态对的回调函数</span></span><br><span class="line"><span class="comment">  *  <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>onRejected 失败状态的回调函数</span></span><br><span class="line"><span class="comment">  *  <span class="doctag">@return </span>一个新的promise对象 </span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> MyPromise.prototype.then = <span class="function"><span class="keyword">function</span> (<span class="params">onResolved, onRejected</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">const</span> _self = <span class="built_in">this</span></span><br><span class="line">   <span class="comment">// 实现异常传递</span></span><br><span class="line">   onRejected = <span class="keyword">typeof</span> onRejected === <span class="string">&#x27;function&#x27;</span> ? onRejected : <span class="function"><span class="params">reason</span> =&gt;</span> &#123; <span class="keyword">throw</span> reason &#125;</span><br><span class="line">   onResolved = <span class="keyword">typeof</span> onResolved === <span class="string">&#x27;function&#x27;</span> ? onResolved : <span class="function"><span class="params">value</span> =&gt;</span> value</span><br><span class="line"></span><br><span class="line">   <span class="comment">// 返回一个新的Promise对象</span></span><br><span class="line">   <span class="keyword">return</span> <span class="keyword">new</span> MyPromise(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">     <span class="comment">/**</span></span><br><span class="line"><span class="comment">      * <span class="doctag">@param <span class="type">&#123;&#125;</span> </span>callback 调用指定的回调函数 </span></span><br><span class="line"><span class="comment">      */</span></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params">callback</span>) </span>&#123;</span><br><span class="line">       <span class="keyword">try</span> &#123;</span><br><span class="line">         <span class="keyword">const</span> result = callback(_self.data)</span><br><span class="line">         <span class="keyword">if</span> (result <span class="keyword">instanceof</span> MyPromise) &#123;</span><br><span class="line">           result.then(resolve, reject)</span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">           resolve(result)</span><br><span class="line">         &#125;</span><br><span class="line">       &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">         reject(error)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (_self.status === PENDING) &#123;</span><br><span class="line">       _self.callbacks.push(&#123;</span><br><span class="line">         onResolved,</span><br><span class="line">         onRejected</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_self.status === RESOLVED) &#123;</span><br><span class="line"></span><br><span class="line">       <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">         handle(onResolved)</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">         handle(onRejected)</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">   &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">* Promise 实例对象 catch</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@param <span class="type">&#123;Function&#125;</span> </span>onRejected 失败状态的回调函数</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@return </span>一个新的promise对象 </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"> MyPromise.prototype.catch = <span class="function"><span class="keyword">function</span> (<span class="params">onRejected</span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="built_in">this</span>.then(<span class="literal">null</span>, onRejected)</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="js实现异步有哪些方法"><a class="markdownIt-Anchor" href="#js实现异步有哪些方法"></a> JS实现异步有哪些方法</h3>
<blockquote>
<p>Javascript 的执行环境是单线程。就是指一次只能完成一件任务。如果有多个任务，就必须排队，前面一个任务完成，再执行后面一个任务，以此类推。<br />
**同步模式(Synchronous)：**程序的执行顺序与任务的排列顺序是一致的、同步的。<br />
**异步模式(Asynchronous)：**每一个任务有一个或多个回调函数（callback），前一个任务结束后，不是执行后一个任务，而是执行回调函数，后一个任务则是不等前一个任务结束就执行，所以程序的执行顺序与任务的排列顺序是不一致的、异步的。</p>
</blockquote>
<ul>
<li>
<p>回调函数的形式</p>
<p>把耗时的模块。放入定时器中。将其子模块,已回调函数的形式写入。<a target="_blank" rel="noopener" href="http://www.ruanyifeng.com/blog/2012/12/asynchronous%EF%BC%BFjavascript.html">阮老师博客</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设f1是耗时的操作，f2需要f1的结果。 </span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params">callback</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// f1的任务代码</span></span><br><span class="line">    callback();</span><br><span class="line">  &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line">f1(f2);</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>事件监听<br />
任务的执行顺序不取决于代码的执行顺序。而是取决于某个事件是否发生。<br />
<code>f1.trigger('done')</code>表示，执行完成后，立即触发done事件，从而开始执行f2。</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">      　f1.on(<span class="string">&#x27;done&#x27;</span>, f2);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    f1.trigger(<span class="string">&#x27;done&#x27;</span>)</span><br><span class="line">  &#125;,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>发布订阅模式(观察者模式)<br />
假设存在信号中心。某个任务完成时，向信号中心发布这个信号。其他订阅者，接收到信号之后。开始执行自己的函数<br />
这种方法的性质与&quot;事件监听&quot;类似，但是明显优于后者。因为我们可以通过查看&quot;消息中心&quot;，了解存在多少信号、每个信号有多少订阅者，从而监控程序的运行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">jQuery.subscribe(<span class="string">&quot;done&quot;</span>, f2);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">// f1任务代码</span></span><br><span class="line">    jQuery.publish(<span class="string">&quot;done&quot;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">jQuery.unsubscribe(<span class="string">&quot;done&quot;</span>, f2);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>手动实现观察者模式</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> queuedObservers = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">const</span> observe = <span class="function"><span class="params">fn</span> =&gt;</span> queuedObservers.add(fn);</span><br><span class="line"><span class="keyword">const</span> observable = <span class="function"><span class="params">obj</span> =&gt;</span> <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj, &#123;set&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">set</span>(<span class="params">target, key, value, receiver</span>) </span>&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Reflect对象的方法与Proxy对象的方法一一对应，</span></span><br><span class="line"><span class="comment">   * 只要是Proxy对象的方法，就能在Reflect对象上找到对应的方法。</span></span><br><span class="line"><span class="comment">   * 这就让Proxy对象可以方便地调用对应的Reflect方法，</span></span><br><span class="line"><span class="comment">   * 完成默认行为，作为修改行为的基础。</span></span><br><span class="line"><span class="comment">   * 也就是说，不管Proxy怎么修改默认行为，</span></span><br><span class="line"><span class="comment">   * 你总可以在Reflect上获取默认行为</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="built_in">console</span>.log(target,key,value,receiver) <span class="comment">//&#123; name: &#x27;张三&#x27;, age: 20 &#125; &#x27;name&#x27; &#x27;李四&#x27; &#123; name: &#x27;张三&#x27;, age: 20 &#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">Reflect</span>.set(target, key, value, receiver);</span><br><span class="line">  <span class="built_in">console</span>.log(target,key,value,receiver) <span class="comment">// &#123; name: &#x27;李四&#x27;, age: 20 &#125; &#x27;name&#x27; &#x27;李四&#x27; &#123; name: &#x27;李四&#x27;, age: 20 &#125;</span></span><br><span class="line">  queuedObservers.forEach(<span class="function"><span class="params">observer</span> =&gt;</span> observer());</span><br><span class="line">  <span class="comment">// return result;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person = observable(&#123;</span><br><span class="line">  name: <span class="string">&#x27;张三&#x27;</span>,</span><br><span class="line">  age: <span class="number">20</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;person.name&#125;</span>, <span class="subst">$&#123;person.age&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">print2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`年龄是, <span class="subst">$&#123;person.age&#125;</span>`</span>)</span><br><span class="line">&#125;</span><br><span class="line">observe(print);</span><br><span class="line">observe(print2)</span><br><span class="line">person.name = <span class="string">&#x27;李四&#x27;</span>; </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>Promise 对象<br />
它的思想是，每一个异步任务返回一个Promise对象，该对象有一个then方法，允许指定回调函数。比如，f1的回调函数f2,可以写成：<code>f1.().then(f2)</code><br />
这样写的优点在于，回调函数变成了链式写法，程序的流程可以看得很清楚。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve</span>)=&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> resolve();</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="number">2</span>)</span><br><span class="line">&#125;).then(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="number">3</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="number">4</span>)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span>)</span><br><span class="line"><span class="comment">// 执行结果 1 2 5 3 4</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="symbol用法"><a class="markdownIt-Anchor" href="#symbol用法"></a> Symbol用法</h3>
<p>最新的ECMAScript 标准定义了8种数据类型,7种原始类型 <code>undefined</code> <code>null</code> <code>bollean</code> <code>number</code> <code>bigint</code> <code>string</code> <code>symbol</code> ,1种复杂数据类<code>object</code> 。<br/><br />
如果面试官问，你可以反问一句，是基础数据类型，还是数据类型，基础数据类型7种，数据类型8种<br/></p>
<p><img src="http://blogimage.lemonlife.top/202002212036_7.png?/" alt="" /></p>
<p><strong>primitive的解释：</strong> In JavaScript, a primitive (primitive value, primitive data type) is data that is not an object and has no methods. There are 7 primitive data types: string, number, bigint, boolean, null, undefined, and symbol.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="built_in">Symbol</span>(<span class="string">&#x27;info&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> a = &#123;</span><br><span class="line">  [s1]: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;哈哈哈&quot;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;test&quot;</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;TEST哈哈哈&quot;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">a.test() <span class="comment">// TEST哈哈哈</span></span><br><span class="line">a[s1]() <span class="comment">// 哈哈哈</span></span><br><span class="line">a[<span class="built_in">Symbol</span>(<span class="string">&#x27;info&#x27;</span>)] <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>
<h3 id="proxy"><a class="markdownIt-Anchor" href="#proxy"></a> Proxy</h3>
<blockquote>
<p>修改制定对象的一些默认方法。通过<code>new Proxy(params1,params2)</code> 创建Proxy对象。参数1是被代理的对象。参数2是被修改的默认方法。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123; <span class="attr">name</span>: <span class="string">&quot;wang&quot;</span> &#125;, &#123;</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params">target, propKey</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (propKey <span class="keyword">in</span> target) &#123;</span><br><span class="line">      <span class="keyword">return</span> target[propKey]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(proxy.name) <span class="comment">// wang</span></span><br><span class="line"><span class="built_in">console</span>.log(proxy.time) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure>
<h3 id="fetchapi-和xhrajaxaxios的主要区别"><a class="markdownIt-Anchor" href="#fetchapi-和xhrajaxaxios的主要区别"></a> FetchApi 和XHR(ajax,axios)的主要区别</h3>
<blockquote>
<p>主要是请求方式的不同<br />
XHR就是 <code>XMLHttpRequest</code> 的请求方式<br />
FetchApi 类似 <code>function()&#123;&#125;.then().catch()</code>的模式，FetchAPI可以流式请求体的模式(下载大文件过程中显示数据流),更方便请求。</p>
</blockquote>
<h3 id="实现一个盒子高度是宽度的一半纯css"><a class="markdownIt-Anchor" href="#实现一个盒子高度是宽度的一半纯css"></a> 实现一个盒子高度是宽度的一半(纯CSS)</h3>
<p>padding属性, padding 的百分比是根据盒子的宽度来决定的。</p>
  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line">  * &#123;</span><br><span class="line">    padding: 0;</span><br><span class="line">    margin: 0;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="css">  <span class="selector-class">.parent</span> &#123;</span></span><br><span class="line">    width: 1000px;</span><br><span class="line">    border: 1px solid red;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.child</span> &#123;</span></span><br><span class="line">    height: 0;</span><br><span class="line">    padding-bottom: 50%;</span><br><span class="line">    position: relative;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">  <span class="selector-class">.content</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    bottom: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    right: 0;</span><br><span class="line">    background: pink;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;parent&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;child&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="不同浏览器标签页的通信"><a class="markdownIt-Anchor" href="#不同浏览器标签页的通信"></a> 不同浏览器标签页的通信</h3>
<h3 id="线程与进程的区别"><a class="markdownIt-Anchor" href="#线程与进程的区别"></a> 线程与进程的区别</h3>
<p><strong>进程具有的特征：</strong></p>
<ul>
<li>动态性：进程是程序的一次执行过程，是临时的，有生命期的，是动态产生，动态- 消亡的；</li>
<li>并发性：任何进程都可以同其他进行一起并发执行；</li>
<li>独立性：进程是系统进行资源分配和调度的一个独立单位；</li>
<li>结构性：进程由程序，数据和进程控制块三部分组成。<br />
<strong>线程与进程的区别</strong></li>
<li>线程是程序执行的最小单位，而进程是操作系统分配资源的最小单位；</li>
<li>一个进程由一个或多个线程组成，线程是一个进程中代码的不同执行路线；</li>
<li>进程之间相互独立，但同一进程下的各个线程之间共享程序的内存空间(包括代码段，数据集，堆等)及一些进程级的资源(如打开文件和信号等)，某进程内的线程在其他进程不可见；</li>
<li>调度和切换：线程上下文切换比进程上下文切换要快得多。</li>
</ul>
<h3 id="浏览器是如何工作的"><a class="markdownIt-Anchor" href="#浏览器是如何工作的"></a> 浏览器是如何工作的</h3>
<h3 id="回流和重绘的区别"><a class="markdownIt-Anchor" href="#回流和重绘的区别"></a> 回流和重绘的区别</h3>
<p>浏览器在加载HTML的时候,会形成DOM树 和render树，DOM树含有HTML标签，包括<code>dispaly:none</code>的标签还有JS代码动态添加的元素。浏览器把CSS样式解析成结构体。DOM 树和结构体结合之后生成render树。所以render树每个节点都有自己的样式。render-tree中的元素的规模，尺寸，布局等发生改变时需要重建render树。称为回流。每个页面至少需要页面加载时这一个回流。完成回流之后，浏览器需要重新在屏幕上绘制受影响的部分。该过程称为重绘。<br />
如果render Tree中的部分元素更新只影响外观(如颜色)不会引起回流，只会发生重绘。<br/><br />
**浏览器的优化：**显然回流的花销比重绘要高,回流的花销和 render tree 有多少节点有关。所以浏览器会维护一个队列。把所以会引起回流重绘的操作放入这个队列。当队列中的操作达到一定的数量。或者到了一定时间间隔。浏览器会进行一个批处理，把多次回流重绘变成一次回流重绘。<br />
**代码的优化：**把多次改变样式代码，多次添加删除元素等操作合并成一次操作。</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://blog.poetries.top/FE-Interview-Questions/improve/#_7-%E6%B5%8F%E8%A7%88%E5%99%A8%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98">优质博客链接</a></p>
</blockquote>
<h3 id="express和koa的区别"><a class="markdownIt-Anchor" href="#express和koa的区别"></a> express和koa的区别</h3>
<p>在koa中,一切流程都是中间件。数据流向遵循洋葱模型。先入后出,也像递归模型。koa2中实现异步是通过async/awaite，koa1实现异步是通过generator/yield，而express实现异步是通过回调函数的方式。express内置了很多中间件。koa2基本没绑定其他框架。更容易定制化。扩展性好。express没有提供上下文机制。数据的控制需要自己手动实现。Koa依据洋葱模型实现数据的流入流出的功能。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Koa = <span class="built_in">require</span>(<span class="string">&#x27;koa&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> app = <span class="keyword">new</span> Koa()</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mid1 = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    ctx.body =  <span class="string">&#x27;前：&#x27;</span> + <span class="string">&#x27;1\n&#x27;</span></span><br><span class="line">    <span class="keyword">await</span> next()</span><br><span class="line">    ctx.body =   ctx.body + <span class="string">&#x27;后：&#x27;</span> + <span class="string">&#x27;1\n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mid2 = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    ctx.body =    ctx.body + <span class="string">&#x27;前：&#x27;</span>+ <span class="string">&#x27;2\n&#x27;</span></span><br><span class="line">    <span class="keyword">await</span> next()</span><br><span class="line">    ctx.body =    ctx.body + <span class="string">&#x27;后：&#x27;</span>+ <span class="string">&#x27;2\n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> mid3 = <span class="keyword">async</span> (ctx, next) =&gt; &#123;</span><br><span class="line">    ctx.body =  ctx.body + <span class="string">&#x27;前：&#x27;</span>+  <span class="string">&#x27;3\n&#x27;</span></span><br><span class="line">    <span class="keyword">await</span> next()</span><br><span class="line">    ctx.body =   ctx.body + <span class="string">&#x27;后：&#x27;</span>+ <span class="string">&#x27;3\n&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">app.use(mid1)</span><br><span class="line">app.use(mid2)</span><br><span class="line">app.use(mid3)</span><br><span class="line"></span><br><span class="line">app.listen(<span class="number">3000</span>) </span><br><span class="line"><span class="comment">// 前1 前2 前3</span></span><br><span class="line"><span class="comment">// 后3 后2 后1</span></span><br></pre></td></tr></table></figure>
<h3 id="koa的洋葱模型koa中间件原理"><a class="markdownIt-Anchor" href="#koa的洋葱模型koa中间件原理"></a> koa的洋葱模型(koa中间件原理)</h3>
<p>初始化Koa实例后,用use方法来调用加载中间件。会有一个数组来存储中间件，use的调用顺序。决定了中间件的执行顺序。每一个中间件都是一个函数(如果不是会报错),接收两个参数,第一个ctx是上下文对象，另一个是next函数。项目启动后koa-componse模块对middleware中间件数组进行处理。会从middleware数组中取第一个函数开始执行,中间件函数调用next方法去执行下一个中间件函数(此时不代表当前中间件函数执行完毕了)，每个中间件函数执行完毕之后都会反回Promise对象。</p>
<p><img src="http://blogimage.lemonlife.top/202002132134_542.png?/" alt="洋葱模型图片" /></p>
<h3 id="mysql索引太多会有什么影响索引种类"><a class="markdownIt-Anchor" href="#mysql索引太多会有什么影响索引种类"></a> mysql索引太多会有什么影响,索引种类</h3>
<p>(1) 空间：索引需要占用空间；</p>
<p>(2) 时间：查询索引需要时间；</p>
<p>(3) 维护：索引须要维护（数据变更时）；</p>
<p>不建议使用索引的情况：</p>
<p>(1) 数据量很小的表</p>
<p>(2) 空间紧张有什么区别</p>
<h3 id="什么是seo"><a class="markdownIt-Anchor" href="#什么是seo"></a> 什么是SEO</h3>
<p>搜索引擎优化。是一种方式：利用搜索引擎的规则提高网站在有关搜索引擎内的自然排名。目的是：为网站提供生态式的自我营销解决方案，让其在行业内占据领先地位，获得品牌收益；SEO包含站外SEO和站内SEO两方面；为了从搜索引擎中获得更多的免费流量，从网站结构、内容建设方案、用户互动传播、页面等角度进行合理规划，还会使搜索引擎中显示的网站相关信息对用户来说更具有吸引力。<br />
<strong>搜索引擎优化：</strong></p>
<ul>
<li>
<p>对网站的标题、关键字、描述精心设置，反映网站的定位，让搜索引擎明白网站是做什么的</p>
</li>
<li>
<p>网站内容优化：内容与关键字的对应，增加关键字的密度；</p>
</li>
<li>
<p>在网站上合理设置Robot.txt文件；<br />
<strong>网页内部优化：</strong></p>
</li>
<li>
<p>META标签优化：例如：TITLE，KEYWORDS，DESCRIPTION等的优化；</p>
</li>
<li>
<p>title：只要强调重点即可，重要关键词出现不要超过2次，而且要靠前，每个页面的title要有所不同。</p>
</li>
<li>
<p>description：把网页内容高度概括到这里，长度要合理，不可过分堆砌关键词，每个页面的description要有所不同。</p>
</li>
<li>
<p>keywords：列举几个重要的关键词即可，不可过分堆砌。</p>
</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/77d32ca7cb9d">转载自简书</a></p>
</blockquote>
<h3 id="实现bfs算法广度优先遍历"><a class="markdownIt-Anchor" href="#实现bfs算法广度优先遍历"></a> 实现BFS算法(广度优先遍历)</h3>
<h3 id="实现观察者模式发布订阅模式"><a class="markdownIt-Anchor" href="#实现观察者模式发布订阅模式"></a> 实现观察者模式(发布订阅模式)</h3>
<h3 id="手动实现proxy"><a class="markdownIt-Anchor" href="#手动实现proxy"></a> 手动实现Proxy</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(obj) !== <span class="string">&#x27;[object Object]&#x27;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">let</span> newObj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    newObj[key] = clone(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//深度克隆当前对象</span></span><br><span class="line"><span class="comment">//遍历当前对象所有属性</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">MyProxy</span>(<span class="params">target, handle</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> targetCopy = clone(target);</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Object</span>.keys(target).forEach(<span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//Object.defineProperty 修改每一项的get set 方法 </span></span><br><span class="line">    <span class="built_in">Object</span>.defineProperty(targetCopy, key, &#123;</span><br><span class="line">      get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> handle.get &amp;&amp; handle.get(target, key);</span><br><span class="line">      &#125;,</span><br><span class="line">      set: <span class="function"><span class="keyword">function</span> (<span class="params">newVal</span>) </span>&#123;</span><br><span class="line">        handle.set &amp;&amp; handle.set(target, key, newVal);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> targetCopy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myProxy = <span class="keyword">new</span> MyProxy(&#123; <span class="attr">name</span>: <span class="string">&quot;wmw&quot;</span>, <span class="attr">son</span>: &#123; <span class="attr">sonName</span>: <span class="string">&quot;sonName&quot;</span> &#125; &#125;, &#123;</span><br><span class="line">  set: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&quot;set方法被拦截&quot;</span>) &#125;,</span><br><span class="line">  get: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;get方法被拦截&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">myProxy.name = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">myProxy.year = <span class="string">&quot;2020&quot;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/wmwgithub/typescript-design-mode/blob/master/src/proxy/proxy.js">源码</a></p>
</blockquote>
<h3 id="proxy-实现vue数据双向绑定"><a class="markdownIt-Anchor" href="#proxy-实现vue数据双向绑定"></a> Proxy 实现Vue数据双向绑定</h3>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;root&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> data = &#123;</span></span><br><span class="line"><span class="javascript">    name: <span class="string">&#x27;wmw&#x27;</span>,</span></span><br><span class="line">    age: 21</span><br><span class="line">  &#125;</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> el = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;root&#x27;</span>)</span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> template = <span class="string">`</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">div</span>  &gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    姓名：</span><span class="template-variable">&#123;&#123;<span class="name">name</span>&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    年龄：</span><span class="template-variable">&#123;&#123;<span class="name">age</span>&#125;&#125;</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">v-model</span>=<span class="string">&quot;name&quot;</span>  <span class="attr">id</span>=<span class="string">&#x27;input1&#x27;</span>&gt;</span></span></span></span><br><span class="line"><span class="handlebars"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line">  `</span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">renderHTML</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> res = template.replace(<span class="regexp">/\&#123;\&#123;\w+\&#125;\&#125;/g</span>, <span class="function"><span class="params">key</span> =&gt;</span> &#123;</span></span><br><span class="line">      key = key.slice(2, key.length - 2)</span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> data[key]</span></span><br><span class="line">    &#125;)</span><br><span class="line">    el.innerHTML = res</span><br><span class="line">  &#125;</span><br><span class="line">  renderHTML()</span><br><span class="line"><span class="javascript">  <span class="function"><span class="keyword">function</span> <span class="title">renderJS</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">Array</span>.from(el.getElementsByTagName(<span class="string">&#x27;input&#x27;</span>))</span></span><br><span class="line"><span class="javascript">      .filter(<span class="function"><span class="params">ele</span> =&gt;</span> ele.getAttribute(<span class="string">&#x27;v-model&#x27;</span>))</span></span><br><span class="line"><span class="javascript">      .forEach(<span class="function"><span class="params">input</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> key = input.getAttribute(<span class="string">&#x27;v-model&#x27;</span>)</span></span><br><span class="line">        input.value = data[key]</span><br><span class="line"><span class="javascript">        input.onfocus = <span class="literal">true</span></span></span><br><span class="line"><span class="javascript">        input.oninput = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          dataProxy[key] = <span class="built_in">this</span>.value</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  renderJS()</span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> dataProxy = <span class="keyword">new</span> <span class="built_in">Proxy</span>(data, &#123;</span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="title">set</span>(<span class="params">obj, name, value</span>)</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="comment">// diff算法</span></span></span><br><span class="line">      obj[name] = value</span><br><span class="line">      renderHTML()</span><br><span class="line">      renderJS()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;) </span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/wmwgithub/typescript-design-mode/blob/master/src/proxy/vue/index.html">源码</a></p>
</blockquote>
<h3 id="单例模式工厂模式"><a class="markdownIt-Anchor" href="#单例模式工厂模式"></a> 单例模式/工厂模式</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Person = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> instance = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (!instance) &#123;</span><br><span class="line">        instance = <span class="built_in">this</span></span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p1 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="keyword">let</span> p2 = <span class="keyword">new</span> Person()</span><br><span class="line"><span class="built_in">console</span>.log(p1 == p2)</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> Factory = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> s = &#123;</span><br><span class="line">    <span class="function"><span class="title">Student</span>(<span class="params">name, age</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name</span><br><span class="line">      <span class="built_in">this</span>.age = age</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function"><span class="title">Teacher</span>(<span class="params">name, age</span>)</span> &#123;</span><br><span class="line">      <span class="built_in">this</span>.name = name</span><br><span class="line">      <span class="built_in">this</span>.age = age</span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">this</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="class"><span class="keyword">class</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">constructor</span>(<span class="params">type, name, age</span>)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (s[type]) &#123;</span><br><span class="line">        <span class="keyword">return</span> s[type].call(<span class="built_in">this</span>, name, age)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> stu = <span class="keyword">new</span> Factory(<span class="string">&quot;Student&quot;</span>, <span class="string">&#x27;张三&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">console</span>.log(stu.name, stu.age) <span class="comment">// 张三 18</span></span><br></pre></td></tr></table></figure>
<h3 id="js函数柯里化"><a class="markdownIt-Anchor" href="#js函数柯里化"></a> JS函数柯里化</h3>
<blockquote>
<p>Curry 把接受多个参数的函数，变成了接受一个单一参数(最初参数的第一个),并返回能正确运行的函数。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x+y</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curryingAdd</span>(<span class="params">x</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>)</span><br><span class="line">curryingAdd(<span class="number">1</span>)(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>让参数能够复用，调用起来也更方便。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">check</span>(<span class="params">reg,text</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> reg.text(text)</span><br><span class="line">&#125;</span><br><span class="line">check(<span class="regexp">/\d+/g</span>,<span class="string">&#x27;test&#x27;</span>) <span class="comment">// false</span></span><br><span class="line">check(<span class="regexp">/[a-z]+/g</span>,<span class="string">&#x27;test&#x27;</span>) <span class="comment">//true</span></span><br><span class="line"><span class="comment">// Currying 后</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curryingCheck</span>(<span class="params">reg</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">txt</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> reg.test(txt)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> hasNumber = curryingCheck(<span class="regexp">/\d+/g</span>)</span><br><span class="line"><span class="keyword">var</span> hasLetter = curryingCheck(<span class="regexp">/[a-z]+/g</span>)</span><br><span class="line"></span><br><span class="line">hasNumber(<span class="string">&#x27;test1&#x27;</span>) <span class="comment">// true</span></span><br><span class="line">hasNumber(<span class="string">&#x27;testtest&#x27;</span>) <span class="comment">// false</span></span><br><span class="line">hasLetter(<span class="string">&#x27;21212&#x27;</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<ul>
<li>通用的柯理化函数</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fn    待柯里化的原函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>len   所需的参数个数，默认为原函数的形参个数</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">curry</span>(<span class="params">fn,len = fn.length</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> _curry.call(<span class="built_in">this</span>,fn,len)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>fn    待柯里化的原函数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>len   所需的参数个数</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param </span>args  已接收的参数列表</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_curry</span>(<span class="params">fn,len,...args1</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">...args2</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">let</span> _args = [...args1,...args2];</span><br><span class="line">      <span class="keyword">if</span>(_args.length &gt;= len)&#123;</span><br><span class="line">          <span class="keyword">return</span> fn.apply(<span class="built_in">this</span>,_args);</span><br><span class="line">      &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="comment">// 继续收集参数的过程</span></span><br><span class="line">          <span class="keyword">return</span> _curry.call(<span class="built_in">this</span>,fn,len,..._args)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="实现一个sum函数使得sum123valueof和sum123valueof执行输出的结果都等于6"><a class="markdownIt-Anchor" href="#实现一个sum函数使得sum123valueof和sum123valueof执行输出的结果都等于6"></a> 实现一个sum函数使得<code>sum(1,2,3).valueOf()</code>和<code>sum(1)(2)(3).valueOf()</code>执行输出的结果都等于6</h3>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a, ...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">b = args[<span class="number">0</span>]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">c = args[<span class="number">1</span>]</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> a + b + c</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>).valueOf()) <span class="comment">//6 </span></span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).valueOf()()()) <span class="comment">//6</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum2</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (args.length == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">b</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params">c</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> args[<span class="number">0</span>] + b + c</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> args.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a + b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(sum2(<span class="number">1</span>)(<span class="number">2</span>)(<span class="number">3</span>).valueOf()) <span class="comment">//6</span></span><br><span class="line"><span class="built_in">console</span>.log(sum2(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>).valueOf()) <span class="comment">// 6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="手动实现对象深拷贝的方法"><a class="markdownIt-Anchor" href="#手动实现对象深拷贝的方法"></a> 手动实现对象深拷贝的方法</h3>
<blockquote>
<p>面试我只想用ES5 的写法</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">merge</span>(<span class="params">source</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>()</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> <span class="built_in">Reflect</span>.ownKeys(source)) &#123;</span><br><span class="line">    <span class="comment">// Reflect.getOwnPropertyDescriptor(source,key)</span></span><br><span class="line">    <span class="comment">//  获取对象的属性描述符  对象是否可写 等</span></span><br><span class="line">    <span class="built_in">Reflect</span>.defineProperty(obj, key, <span class="built_in">Reflect</span>.getOwnPropertyDescriptor(source, key))</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">Reflect</span>.apply(<span class="built_in">Object</span>.prototype.toString, source[key], []) === <span class="string">&#x27;[object Object]&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">Reflect</span>.set(obj, key, merge(source[key]))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ES5 的写法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.toString.call(obj) !== <span class="string">&#x27;[object Object]&#x27;</span>) <span class="keyword">return</span> obj;</span><br><span class="line">  <span class="keyword">let</span> newObj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    newObj[key] = clone(obj[key]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="防抖节流"><a class="markdownIt-Anchor" href="#防抖节流"></a> 防抖节流</h3>
<ul>
<li>防抖</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, wait</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> timeout = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(timeout !== <span class="literal">null</span>)&#123;</span><br><span class="line">          <span class="built_in">clearTimeout</span>(timeout);</span><br><span class="line">        &#125; </span><br><span class="line">        timeout = <span class="built_in">setTimeout</span>(fn, wait);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 处理函数</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random()); </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 滚动事件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, debounce(handle, <span class="number">1000</span>));</span><br></pre></td></tr></table></figure>
<ul>
<li>节流</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> throttle = <span class="function"><span class="keyword">function</span>(<span class="params">func, delay</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line"> <span class="keyword">var</span> startTime = <span class="built_in">Date</span>.now();</span><br><span class="line"> <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> curTime = <span class="built_in">Date</span>.now();</span><br><span class="line">     <span class="keyword">var</span> remaining = delay - (curTime - startTime);</span><br><span class="line">     <span class="keyword">var</span> context = <span class="built_in">this</span>;</span><br><span class="line">     <span class="keyword">var</span> args = <span class="built_in">arguments</span>;</span><br><span class="line">     <span class="built_in">clearTimeout</span>(timer);</span><br><span class="line">      <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">        func.apply(context, args);</span><br><span class="line">        startTime = <span class="built_in">Date</span>.now();</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 定时器解决，节流函数，最后一次需要被执行的问题</span></span><br><span class="line">        timer = <span class="built_in">setTimeout</span>(func, remaining);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handle</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="built_in">Math</span>.random());</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, throttle(handle, <span class="number">1000</span>));</span><br></pre></td></tr></table></figure>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结"></a> 总结</h3>
<blockquote>
<p>面试需要 数据结构与算法，网络原理，底层知识，项目经验，设计模式，SQL语法</p>
</blockquote>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">琅琊旻</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wmwgithub.github.io/2020/02/10/interview/">https://wmwgithub.github.io/2020/02/10/interview/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wmwgithub.github.io">琅琊旻</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E8%AF%95/">面试</a></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e33bf91133aab4b" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/02/10/reverse-linked-list/"><i class="fa fa-chevron-left">  </i><span>反转链表</span></a></div><div class="next-post pull-right"><a href="/2020/02/06/mergeListNode/"><span>合并两个排序的链表</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '55b93500c699e46ecd3c',
  clientSecret: 'b30789a22c5e9d2d1cff1a0aeb9d2af82ff4c6d9',
  repo: 'wmwgithub.github.io',
  owner: 'wmwgithub',
  admin: 'wmwgithub',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2021 By 琅琊旻</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>
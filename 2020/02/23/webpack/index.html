<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Webpackæ•™ç¨‹~åŸºç¡€ç¯‡"><meta name="keywords" content="å‰ç«¯,webpack"><meta name="author" content="ç…çŠæ—»"><meta name="copyright" content="ç…çŠæ—»"><title>Webpackæ•™ç¨‹~åŸºç¡€ç¯‡ | ç…çŠæ—»</title><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.0"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css?version=1.9.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css"><script src="https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js"></script><script src="https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js"></script><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script>(adsbygoogle = window.adsbygoogle || []).push({
  google_ad_client: 'ca-pub-1150529212462758',
  enable_page_level_ads: 'true'
});
</script><link rel="dns-prefetch" href="http://ta.qq.com"><script>(function() {
   var hm = document.createElement("script");
   hm.src = "https://tajs.qq.com/stats?sId=66535930";
   var s = document.getElementsByTagName("script")[0];
   s.parentNode.insertBefore(hm, s);
 })();</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}"}},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  hexoVersion: '5.2.0'
} </script><meta name="generator" content="Hexo 5.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="åˆ‡æ¢æ–‡ç« è¯¦æƒ…">åˆ‡æ¢ç«™ç‚¹æ¦‚è§ˆ</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">ç›®å½•</div><div class="sidebar-toc__progress"><span class="progress-notice">ä½ å·²ç»è¯»äº†</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text"> åŸºç¡€æ¦‚å¿µ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#entry"><span class="toc-number">1.1.</span> <span class="toc-text"> Entry</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#output"><span class="toc-number">1.2.</span> <span class="toc-text"> Output</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#loader"><span class="toc-number">1.3.</span> <span class="toc-text"> Loader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#plugins"><span class="toc-number">1.4.</span> <span class="toc-text"> Plugins</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mode"><span class="toc-number">1.5.</span> <span class="toc-text"> Mode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#webpack%E6%89%93%E5%8C%85%E8%BF%87%E7%A8%8B"><span class="toc-number">2.</span> <span class="toc-text"> webpackæ‰“åŒ…è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86css-less"><span class="toc-number">3.</span> <span class="toc-text"> å¤„ç†cssã€less</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86html-%E5%9B%BE%E7%89%87-%E5%85%B6%E4%BB%96%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90"><span class="toc-number">4.</span> <span class="toc-text"> å¤„ç†HTMLã€å›¾ç‰‡ã€å…¶ä»–é™æ€èµ„æº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#css%E5%85%BC%E5%AE%B9%E6%80%A7%E5%A4%84%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text"> csså…¼å®¹æ€§å¤„ç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#devserver"><span class="toc-number">6.</span> <span class="toc-text"> devServer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#javascript%E4%BB%A3%E7%A0%81%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="toc-number">7.</span> <span class="toc-text"> Javascriptä»£ç å…¼å®¹æ€§</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="http://blogimage.lemonlife.top/201910302316_962.jpg"></div><div class="author-info__name text-center">ç…çŠæ—»</div><div class="author-info__description text-center"></div><div class="follow-button"><a target="_blank" rel="noopener" href="https://github.com/wmwgithub">GitHubå…³æ³¨</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">43</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">æ ‡ç­¾</span><span class="pull-right">21</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">å‹æƒ…é“¾æ¥</div><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.dzou.top">Dzou's Blog</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://boyn.top">Boyn</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://www.parak.top/">ParaK</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="http://luo-xi.xyz/">æ´›è‡£å¿ƒ</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://www.uchihakakashi.top/">Uchkks's Blog</a><a class="author-info-links__name text-center" target="_blank" rel="noopener" href="https://crassulalactea.github.io/">Crassula</a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">ç…çŠæ—»</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">é¦–é¡µ</a><a class="site-page" href="/archives">å½’æ¡£</a><a class="site-page" href="/tags">æ ‡ç­¾</a><a class="site-page" href="/categories">ç±»åˆ«</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> æœç´¢</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">Webpackæ•™ç¨‹~åŸºç¡€ç¯‡</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-02-23</time></div><div class="article-container" id="post-content"><h3 id="åŸºç¡€æ¦‚å¿µ"><a class="markdownIt-Anchor" href="#åŸºç¡€æ¦‚å¿µ"></a> åŸºç¡€æ¦‚å¿µ</h3>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/installation/">å®˜ç½‘å®‰è£…æ–¹å¼</a></p>
<p>é€šè¿‡å®˜ç½‘çš„æŒ‡å¼•å®‰è£…å¥½webpack,åœ¨é¡¹ç›®æ ¹ç›®å½•æ·»åŠ  <code>webpack.config.js</code> çš„æ–‡ä»¶.<br />
<code>webpack.config.js</code> éµå¾ªçš„æ˜¯ <code>commonJS</code> è§„èŒƒ,ä¾æ¬¡æ–‡ä»¶é‡‡ç”¨ <code>module.exports=&#123;[key]:[value]&#125;</code> çš„æ–¹å¼,æ¥æš´éœ²å…·ä½“çš„é…ç½®ã€‚</p>
<p>ä¸€ä¸ªåŸºæœ¬çš„webpacké…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;[xxx].js&quot;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;xxxx.js&#x27;</span>,</span><br><span class="line">    path: resolve(__dirname, <span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;[key]:[value]&#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> PluginsName()</span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&#x27;production | development&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://webpack.docschina.org/concepts/">å®˜ç½‘åŸºç¡€æ¦‚å¿µ</a></p>
<h4 id="entry"><a class="markdownIt-Anchor" href="#entry"></a> Entry</h4>
<p>æŒ‡å®šwebpack,æ‰“åŒ…çš„èµ·å§‹æ–‡ä»¶ï¼Œæ ¹æ®æ­¤æ–‡ä»¶åˆ†ææ„å»ºä¾èµ–å…³ç³»å›¾ã€‚</p>
<p>å…¥å£æ–‡ä»¶ï¼Œå¯é…ç½®ä¸€ä¸ªï¼Œä¹Ÿå¯ä»¥ <code>&#123;[key]:[value]&#125;</code> çš„å½¢å¼é…ç½®å¤šä¸ª</p>
<h4 id="output"><a class="markdownIt-Anchor" href="#output"></a> Output</h4>
<p>æŒ‡ç¤ºwebpackæ‰“åŒ…åçš„èµ„æºï¼Œè¾“å‡ºåˆ°å“ªé‡Œå»ï¼Œä»¥åŠå¦‚ä½•å‘½åã€‚</p>
<p>outputçš„å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ŒæŒ‡å®šäº†è¾“å‡ºæ–‡ä»¶åï¼Œå’Œæ–‡ä»¶è·¯å¾„ï¼Œè¾“å‡ºæ–‡ä»¶å»ºè®®ä½¿ç”¨ pathæ¨¡å—ä¸­çš„resolveå³ <code>resolve(__dirname,xxx)</code></p>
<p>åœ¨webpackä¸­è¾“å‡ºçš„æ–‡ä»¶åï¼Œå¦‚æœä½ ä¸æƒ³æŒ‡å®šï¼Œå¯ä»¥å–ä½¿ç”¨<code>[hash].æ‰©å±•å</code>çš„å½¢å¼ï¼Œwebpackåœ¨è¾“å‡ºçš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŒ‡å®šhashå€¼ã€‚</p>
<h4 id="loader"><a class="markdownIt-Anchor" href="#loader"></a> Loader</h4>
<p>Webpackå»å¤„ç†é‚£äº›é<code>Javascript</code>æ–‡ä»¶ã€‚(webpackæœ¬èº«åªå¤„ç†jså’Œjsonæ•°æ®)</p>
<p>å¯¹åº”webpackçš„å­—æ®µæ˜¯ <code>module</code>,é‡Œé¢æŒ‡å®šäº†webpackå„ç§çš„loaderé…ç½®ã€‚å½¢å¦‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;[key]:[value]&#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>rulesä¸­çš„æ¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹åº”ç€ä¸€ä¸ªå¤„ç†æŸä¸ªæ–‡ä»¶çš„æ¨¡å—ï¼Œä¸ºäº†å¤„ç†æŸç§æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®ï¼ŒåŒ¹é…è¿™ä¸ªæ–‡ä»¶çš„æ­£åˆ™è¡¨è¾¾å¼,å½¢å¦‚ <code>test:/å…·ä½“æ­£åˆ™è¡¨è¾¾å¼/</code> ï¼Œå’Œé€šè¿‡ <code>use:[loader-name]</code> çš„å½¢å¼æŒ‡å®š å¤šä¸ªloader,å¦‚ï¼šå¤„ç†css æ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ <code>style-loader</code> å’Œ <code>css-loader</code> ã€‚ç”šè‡³æœ‰æ—¶å€™useæ•°ç»„é‡Œé¢ï¼Œä¸åªæ˜¯ å„ä¸ªloaderçš„åç§°ï¼Œå¯èƒ½è¿˜éœ€è¦ä¿®æ”¹ä¸€äº›loaderçš„é…ç½®ï¼Œå°±ä¼šé‡‡å–å¯¹è±¡çš„å½¢å¼æŒ‡å®šloaderï¼Œå¦‚ç»™cssæ·»åŠ å…¼å®¹æ€§å¤„ç†çš„æƒ…æ™¯</p>
<p>åŒä¸€æ–‡ä»¶å„ç§loaderçš„å¤„ç†é¡ºåºæ˜¯è‡ªä¸‹è€Œä¸Šçš„,cssæ–‡ä»¶é…ç½®å¦‚ä¸‹,æ–‡ä»¶ä¼šå…ˆç»è¿‡ <code>css-loader</code> å¤„ç†,å†ç»è¿‡<code>style-loader</code>å¤„ç†ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: /\.css$/,</span><br><span class="line">      use: [</span><br><span class="line">        &#x27;style-loader&#x27;,</span><br><span class="line">        &#x27;css-loader&#x27;,</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢å¼•å…¥çš„ä¸¤ç§loaderéƒ½æ˜¯ç›´æ¥é€šè¿‡loaderåç§°çš„å½¢å¼å¼•å…¥çš„ï¼ŒæŒ‰ç…§å¯¹è±¡çš„æ–¹å¼å¼•å…¥postcss-loaderï¼Œå¯¹cssåšå…¼å®¹æ€§å¤„ç†ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: /\.css$/,</span><br><span class="line">  use: [</span><br><span class="line">    &#x27;style-loader&#x27;</span><br><span class="line">    &#x27;css-loader&#x27;,</span><br><span class="line">    &#123;</span><br><span class="line">      loader: &#x27;postcss-loader&#x27;,</span><br><span class="line">      options: &#123;</span><br><span class="line">        ident: &#x27;postcss&#x27;,</span><br><span class="line">        plugins: () =&gt; &#123;</span><br><span class="line">          require(&#x27;postcss-preset-env&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>å½“ç„¶æœ€åè¦æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›loaderéƒ½ä¸æ˜¯webpackï¼Œå†…ç½®çš„ï¼Œè€Œæ˜¯éœ€è¦ é€šè¿‡npm å®‰è£…ã€‚å…·ä½“çš„æ’ä»¶å®‰è£…å¯çœ‹å®˜ç½‘ã€‚å»ºè®®å¤§å®¶å’Œwebpackæœ‰å…³çš„éƒ½å®‰è£…åœ¨  <code>devDependencies</code> ä¸‹ ã€‚</p>
<h4 id="plugins"><a class="markdownIt-Anchor" href="#plugins"></a> Plugins</h4>
<p>å„ç§åŠŸèƒ½å¼ºå¤§çš„å·¥å…·ï¼ŒåŒ…æ‹¬æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ï¼Œç”šè‡³å¯ä»¥é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ã€‚æ’ä»¶ç›¸æ¯”äºLoaderå¯ä»¥åšå¾ˆå¤šæ¯”LoaderåŠŸèƒ½æ›´å¼ºå¤§çš„äº‹ã€‚</p>
<p>æ’ä»¶å’Œloaderç›¸åŒçš„æ˜¯éƒ½éœ€è¦å…ˆnpmå®‰è£…ï¼Œä¸åŒçš„æ˜¯ï¼Œloaderä¸éœ€è¦å¼•å…¥ï¼Œä½†æ˜¯è¦åœ¨useé‡Œé¢å†™ä¸€äº›é…ç½®ã€‚è€Œæ’ä»¶åˆ™æ˜¯é€šè¿‡ï¼Œå…ˆrequire å¼•å…¥æŸä¸ªæ’ä»¶ï¼Œç„¶åå†åœ¨plugins,å®ä¾‹åŒ–å¼•å…¥çš„æ’ä»¶å¯¹è±¡å³å¯ã€‚å¦‚æœéœ€è¦ä¿®æ”¹æ’ä»¶çš„é»˜è®¤é…ç½®ï¼Œåœ¨å®ä¾‹åŒ–çš„æ—¶å€™ï¼Œä»¥å¯¹è±¡çš„å½¢å¼ä¼ å…¥å³å¯ã€‚</p>
<p>html æ¨¡æ¿æ’ä»¶ä½¿ç”¨å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&#x27;......&#x27;</span>,</span><br><span class="line">  output:<span class="string">&#x27;......&#x27;</span>,</span><br><span class="line">  <span class="built_in">module</span>:<span class="string">&#x27;......&#x27;</span>,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–requireå¼•å…¥çš„æ’ä»¶ html-webpack-plugin</span></span><br><span class="line">    <span class="comment">//æŒ‡å®šä¼ å…¥çš„HTMLæ¨¡æ¿æ˜¯srcç›®å½•ä¸‹çš„index.htmlæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&#x27;.....&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="mode"><a class="markdownIt-Anchor" href="#mode"></a> Mode</h4>
<p>æ¨¡å¼åˆ†ä¸º <code>development</code>å¼€å‘ç¯å¢ƒï¼Œ<code>production</code> ç”Ÿäº§ç¯å¢ƒã€‚<br />
è¿™å¤§æ¦‚æ˜¯webpackæœ€ç®€æ´çš„é…ç½®äº†ï¼Œåœ¨<code>production</code> æ¨¡å¼ä¸‹ï¼Œä¼šè‡ªåŠ¨å¼€å¯å‹ç¼©jsä»£ç å’Œ <code>tree shaking</code> ã€‚</p>
<p>åœ¨æœªæ¥çš„ webpack5ä¸­,åªæœ‰åœ¨ <code>webpack.config.js</code> æ–‡ä»¶ä¸­æŒ‡å®šä¸€ä¸ªmode,å°±å¯ä»¥ä½¿ç”¨ï¼Œä¸Šé¢çš„ <code>entry,output</code> ç­‰é…ç½®,éƒ½å˜æˆäº†é»˜è®¤é…ç½®ã€‚</p>
<h3 id="webpackæ‰“åŒ…è¿‡ç¨‹"><a class="markdownIt-Anchor" href="#webpackæ‰“åŒ…è¿‡ç¨‹"></a> webpackæ‰“åŒ…è¿‡ç¨‹</h3>
<ol>
<li>æŒ‡å®šå…¥å£æ–‡ä»¶ entry</li>
<li>webpackä¼šæ ¹æ®å…¥å£æ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„ä¾èµ–,å½¢æˆä¾èµ–æ ‘ï¼Œç„¶åä¼šæ ¹æ®ä¾èµ–æ ‘ä¸­æŠŠæ‰€ä»¥éœ€è¦çš„ä¾èµ–å¼•å…¥ï¼Œå½¢æˆä»£ç å—(chunk),ç„¶åå†æ ¹æ®ä¸åŒçš„èµ„æºå¯¹åº”çš„loader,å¯¹ä»£ç å—è¿›è¡Œå¤„ç†è¾“å‡ºä¸º <code>bundles</code>.</li>
</ol>
<h3 id="å¤„ç†css-less"><a class="markdownIt-Anchor" href="#å¤„ç†css-less"></a> å¤„ç†cssã€less</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install style-loader css-loader  -D</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ css-loader æ˜¯ä¸ºäº†æŠŠ css æ–‡ä»¶å˜æˆcommonJSæ¨¡å—ï¼ŒåŠ è½½åˆ°JSä¸­ï¼Œstyle-loaderæ˜¯ä¸ºäº†åœ¨JSè§£æçš„æ—¶å€™èƒ½åˆ›å»ºstyleæ ‡ç­¾,æŠŠæ ·å¼æ•´åˆåˆ°styleæ ‡ç­¾ä¸­ï¼Œæ’å…¥æµè§ˆå™¨çš„headã€‚</p>
<p>é»˜è®¤æ˜¯æœ‰å¤šå°‘cssï¼Œless æ–‡ä»¶å°±ä¼šæ’å…¥å¤šå°‘styleæ ‡ç­¾ï¼Œæ¯ä¸ªæ ‡ç­¾å°±æ˜¯å¯¹åº”çš„cssä»£ç ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install less-loader -D </span><br></pre></td></tr></table></figure>
<p>å®‰è£…less-loaderå¤„ç†lessæ–‡ä»¶ï¼Œæ³¨æ„loaderåœ¨ä»£ç é‡Œé¢é…ç½®é¡ºåºæ˜¯å›ºå®šçš„ï¼Œlessæ–‡ä»¶å¿…é¡»è¦ç»è¿‡less-loaderå¤„ç†ï¼Œæ‰èƒ½è¢«css-loaderè¯†åˆ«ï¼ŒåŒç†æœ€åæ‰èƒ½è¢«style-loaderå¤„ç†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">rules: [</span><br><span class="line">  &#123;</span><br><span class="line">    test: &#x2F;\.css$&#x2F;,</span><br><span class="line">    use: [</span><br><span class="line">      &#x2F;&#x2F; ä»ä¸‹åˆ°ä¸Šè¿è¡Œloader</span><br><span class="line">      &#x2F;&#x2F; åˆ›å»ºstyleæ ‡ç­¾ï¼Œå°†jsèµ„æºæ’å…¥ï¼Œæ·»åŠ åˆ°headç”Ÿæ•ˆ</span><br><span class="line">      &#39;style-loader&#39;,</span><br><span class="line">      &#x2F;&#x2F; å°†css æ–‡ä»¶å˜æˆcommonjs æ¨¡å—åŠ è½½åˆ°jsä¸­ï¼Œé‡Œé¢å†…å®¹ æ˜¯æ ·å¼å­—ç¬¦ä¸²ã€‚</span><br><span class="line">      &#39;css-loader&#39;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    test: &#x2F;\.less$&#x2F;,</span><br><span class="line">    use: [</span><br><span class="line">      &#39;style-loader&#39;,</span><br><span class="line">      &#39;css-loader&#39;,</span><br><span class="line">      &#39;less-loader&#39;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>æŠŠcss,lessæ–‡ä»¶æå–åˆå¹¶ï¼Œå¹¶ä¸”å‹ç¼©ä¸€ä¸‹å½¢æˆå•ç‹¬çš„css,å†é€šè¿‡linkæ ‡ç­¾å¼•å…¥ã€‚ç›®çš„æ˜¯ä¸ºäº†æŠŠcsså°½å¿«çš„æä¾›ç»™æµè§ˆå™¨ï¼Œè€Œä¸æ˜¯æ”¾åœ¨jsä¸­ï¼Œå¯¼è‡´æµè§ˆå™¨éœ€è¦å…ˆè§£æjsæ‰èƒ½è·å–css,<a target="_blank" rel="noopener" href="http://lemonlife.top/2020/02/23/web-fundamentals-optimize/">å…·ä½“åŸå› è§åšå®¢~æµè§ˆå™¨</a>,éœ€è¦ä½¿ç”¨æ’ä»¶ mini-css-extract-plugin</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>æŠŠcssæ–‡ä»¶å’Œlessæ–‡ä»¶é…ç½®ä¸­çš„,style-loaderéƒ½æ›¿æ¢æˆ <code>MiniCssExtractPlugin.loader</code>,åœ¨pluginsä¸­å®ä¾‹åŒ–æ’ä»¶å¹¶ä¸”åˆ¶å®šè¾“å‡ºæ–‡ä»¶è·¯å¾„,å®Œæ•´é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> MiniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;js/build.js&#x27;</span>,</span><br><span class="line">    path: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.less$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          MiniCssExtractPlugin.loader,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          <span class="string">&#x27;less-loader&#x27;</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">&#x27;./src/public/index.html&#x27;</span></span><br><span class="line">    &#125;),</span><br><span class="line">    <span class="comment">// [hash:10]åˆ¶å®šæ–‡ä»¶åç§°å–å“ˆå¸Œå€¼çš„å‰10ä½</span></span><br><span class="line">    <span class="keyword">new</span> MiniCssExtractPlugin(&#123;</span><br><span class="line">      filename:<span class="string">&quot;css/[hash:10].css&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‹ç¼©css,æ„Ÿè§‰å°±æ˜¯å»æ‰äº†cssæ–‡ä»¶ä¸­çš„ï¼Œç©ºæ ¼æ³¨é‡Šï¼Œä¹Ÿå¯èƒ½å»æ‰äº†ä¸€äº›å†™é‡å¤çš„æ ·å¼å§ï¼Œåæ­£å°±æ˜¯ä¸ºäº†å‡å°‘æ–‡ä»¶ä½“ç§¯åŠ å¿«ç½‘ç»œä¼ è¾“é€Ÿåº¦ã€‚éœ€è¦ç”¨åˆ°æ’ä»¶<code>optimize-css-assets-webpack-plugin</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ’ä»¶ä½¿ç”¨æ¯”è¾ƒç®€å•äº†,ä¸€æ ·éœ€è¦å¼•å…¥</p>
<p><code>const OptimizeCssAssetsWebpackPlugin = require('optimize-css-assets-webpack-plugin')</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line">  plugins: [</span><br><span class="line">    ....,</span><br><span class="line">    new OptimizeCssAssetsWebpackPlugin()</span><br><span class="line">  ]</span><br><span class="line">.... </span><br></pre></td></tr></table></figure>
<h3 id="å¤„ç†html-å›¾ç‰‡-å…¶ä»–é™æ€èµ„æº"><a class="markdownIt-Anchor" href="#å¤„ç†html-å›¾ç‰‡-å…¶ä»–é™æ€èµ„æº"></a> å¤„ç†HTMLã€å›¾ç‰‡ã€å…¶ä»–é™æ€èµ„æº</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-webpack-plugin -D</span><br></pre></td></tr></table></figure>
<p>å¤„ç†HTMLæ–‡ä»¶éœ€è¦ä½¿ç”¨ <code>html-webpack-plugin</code>,åœ¨pluginsä¸­å®ä¾‹åŒ–çš„æ—¶å€™ï¼ŒæŒ‡å®šä¸€ä¸‹ä½¿ç”¨çš„æ¨¡æ¿ï¼Œwebpackä¼šæŠŠè¾“å‡ºçš„jsé€šè¿‡scriptæ ‡ç­¾è‡ªåŠ¨å¼•å…¥HTMLä¸­ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpackå¤„ç† HTML</span></span><br><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;./src/index.js&quot;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;/js/build.js&#x27;</span>,</span><br><span class="line">    path: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      <span class="comment">//æŒ‡å®š srcä¸‹çš„index.html ä¸ºHTMLåŸºç¡€æ¨¡æ¿ã€‚</span></span><br><span class="line">      template: <span class="string">&#x27;./src/index.html&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ],</span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤„ç†å›¾ç‰‡èµ„æºçš„æ—¶å€™ä½¿ç”¨çš„æ˜¯loaderåç§°æ˜¯<code>url-loader</code>,æ²¡æœ‰photo-loaderğŸ˜ğŸ˜ğŸ˜,å½“ç„¶è¿˜è¦ä¸‹è½½file-loader,å› ä¸ºurl-loaderä¾èµ–äºfile-loader</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install file-loader url-loader -D</span><br></pre></td></tr></table></figure>
<p>å…·ä½“é…ç½®å¦‚ä¸‹ï¼Œå¯ä»¥è§£å†³commonJS import å›¾ç‰‡èµ„æºï¼Œå’Œcss,lessæ–‡ä»¶ä¸­urlé‡Œé¢å¼•ç”¨å›¾ç‰‡èµ„æºçš„é—®é¢˜ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: /\.(jpg|png|gif|jpeg)$/,</span><br><span class="line">  loader: &#x27;url-loader&#x27;,</span><br><span class="line">  options: &#123;</span><br><span class="line">    <span class="comment">// å›¾ç‰‡å°äº8kbæ—¶å€™ä¼šè¢«base64å¤„ç†</span></span><br><span class="line">    limit: 8 * 1024,</span><br><span class="line">    <span class="comment">// ç»™å›¾ç‰‡é‡æ–°å‘½å</span></span><br><span class="line">    <span class="comment">// ext å›¾ç‰‡åŸæ¥æ‰©å±•åç§°</span></span><br><span class="line">    name:&#x27;[hash:10].[ext]&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿˜è¦å¤„ç†HTMLæ¨¡æ¿ä¸­å¼•å…¥å›¾ç‰‡çš„é—®é¢˜è¿˜éœ€è¦ä½¿ç”¨ <code>html-loader</code>ï¼Œ<br />
æ­¤æ—¶è¦æ³¨æ„ä¿®æ”¹ä¸€ä¸‹ä¹‹å‰url-loaderçš„é…ç½®,å› ä¸ºurl-loaderé»˜è®¤ä½¿ç”¨es6æ¨¡å—åŒ–è§£æï¼Œè€Œhtml-loaderå¼•å…¥å›¾ç‰‡æ˜¯commonjs,è§£ææ—¶ä¼šå‡ºé—®é¢˜ï¼š[object Module],éœ€è¦åœ¨url-loaderé…ç½®æ–‡ä»¶ä¸­ï¼Œå…³é—­url-loaderçš„es6æ¨¡å—åŒ–ï¼Œä½¿ç”¨commonjsè§£æ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install html-loader -D</span><br></pre></td></tr></table></figure>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: /\.(jpg|png|gif|jpeg)$/,</span><br><span class="line">  loader: &#x27;url-loader&#x27;,</span><br><span class="line">  options: &#123;</span><br><span class="line">    limit: 8 * 1024,</span><br><span class="line">    <span class="comment">// è§£å†³ï¼šå…³é—­url-loaderçš„es6æ¨¡å—åŒ–ï¼Œä½¿ç”¨commonjsè§£æ</span></span><br><span class="line">    esModule: false,</span><br><span class="line">    name:&#x27;[hash:10].[ext]&#x27;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">  test: /\.html$/,</span><br><span class="line">  loader: &#x27;html-loader&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¤„ç†å…¶ä»–é™æ€èµ„æºï¼Œæ¯”å¦‚å­—ä½“å›¾æ ‡æ–‡ä»¶ç­‰,éœ€è¦å®‰è£…file-loader,åœ¨ä¹‹å‰å®‰è£…url-loaderçš„æ—¶å€™å·²ç»å®‰è£…è¿‡file-loaderäº†</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">   <span class="comment">// exclude æ’é™¤ å‰é¢è¢«å¤„ç†è¿‡çš„ css/js/htmlèµ„æº</span></span><br><span class="line">   <span class="comment">// å…¶ä»–æ–‡ä»¶ä¸€å¾‹äº¤ç»™file-loaderå¤„ç†ã€‚</span></span><br><span class="line">  exclude: /\.(css|js|html|less)$/,</span><br><span class="line">  loader: &#x27;file-loader&#x27;,</span><br><span class="line">  options: &#123;</span><br><span class="line">    name: &#x27;[hash:10].[ext]&#x27;,</span><br><span class="line">    <span class="comment">// æŒ‡å®šå…¶ä»–èµ„æºéƒ½è¾“å‡ºåˆ°staticç›®å½•ä¸‹</span></span><br><span class="line">    outputPath: &#x27;static&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="csså…¼å®¹æ€§å¤„ç†"><a class="markdownIt-Anchor" href="#csså…¼å®¹æ€§å¤„ç†"></a> csså…¼å®¹æ€§å¤„ç†</h3>
<p>é¢è¯•çš„æ—¶å€™ç»å¸¸ä¼šè¢«é—®åˆ°ï¼Œæµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œä½œä¸ºä¸€ä¸ªå­¦ç”Ÿï¼Œç›®å‰æˆ‘å¼€å‘éƒ½æ˜¯ä½¿ç”¨Chromeå’ŒFirefoxï¼Œå¤„ç†æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯webpacké…ç½®ä¸€ä¸‹ã€‚<br />
å…¼å®¹csséœ€è¦ç”¨æ’ä»¶postcss-loader,å’Œæ’ä»¶çš„çš„é…ç½®postcss-preset-env(å½“ç„¶ä¹Ÿå¯é‡‡ç”¨,autoprefixerè§„åˆ™å–ä»£postcss-preset-envè§„åˆ™)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install postcss-loader postcss-preset-env -D</span><br></pre></td></tr></table></figure>
<p>å®‰è£…å¥½æ’ä»¶ï¼Œå¦‚æœä¸šåŠ¡åœºæ™¯æµè§ˆå™¨ç¡®å®šï¼Œå¯é‡‡ç”¨ä¸­ <code>package.json</code> å¢åŠ <code>browserslist</code>,æ¥ç¡®å®šå…·ä½“æµè§ˆå™¨,è‡³äºbrowserslistçš„é…ç½®æ–‡ä»¶å¯çœ‹<a target="_blank" rel="noopener" href="https://github.com/browserslist/browserslist">github</a></p>
<p>å…¶ä¸­<code>development</code>,<code>production</code> æ˜¯æŒ‡NodeJSç¯å¢ƒ(<code>process.env.NODE_ENV</code>),é»˜è®¤æ˜¯production,è€ŒéwebpackæŒ‡å®šçš„modeã€‚</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;xxx&quot;</span>:<span class="string">&quot;xxx&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: <span class="string">&quot;xxxx&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;browserslist&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;development&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;last 1 version&quot;</span>,</span><br><span class="line">      <span class="string">&quot;&gt; 1%&quot;</span>,</span><br><span class="line">      <span class="string">&quot;IE 10&quot;</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">&quot;production&quot;</span>: [</span><br><span class="line">      <span class="string">&quot;&gt; 0.2%&quot;</span>,</span><br><span class="line">      <span class="string">&quot;not dead&quot;</span>,</span><br><span class="line">      <span class="string">&quot;not op_mini all&quot;</span></span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…·ä½“é…ç½®å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> miniCssExtractPlugin = <span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br><span class="line"><span class="comment">//æŒ‡å®šnodeç¯å¢ƒä¸º development</span></span><br><span class="line">process.env.NODE_ENV = <span class="string">&#x27;development&#x27;</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&quot;...&quot;</span>,</span><br><span class="line">  output: <span class="string">&quot;....&quot;</span>,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          miniCssExtractPlugin.loader,</span><br><span class="line">          <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">&#x27;postcss-loader&#x27;</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              plugins: <span class="function">(<span class="params">loader</span>) =&gt;</span> [</span><br><span class="line">                <span class="comment">//ä¹Ÿå¯ä»¥é‡‡ç”¨</span></span><br><span class="line">                <span class="comment">// require(&#x27;postcss-preset-env&#x27;)()</span></span><br><span class="line">                <span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)()</span><br><span class="line">              ]</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins:<span class="string">&quot;.....&quot;</span>,</span><br><span class="line">  mode: <span class="string">&#x27;.....&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="devserver"><a class="markdownIt-Anchor" href="#devserver"></a> devServer</h3>
<p>é…ç½®devServer,ç›¸å½“äºæœ¬åœ°è¿è¡Œäº†ä¸€ä¸ªNodeJSåæ¥æœåŠ¡,éœ€è¦å®‰è£…æ’ä»¶<code>webpack-dev-server</code>,æ­¤æ—¶webpackç¼–è¯‘çš„ç»“æœä¸ä¼šè¾“å‡ºåœ¨æˆ‘ä»¬æŒ‡å®šçš„ç›®å½•ä¸‹ï¼Œå› ä¸ºdev-serverä¸è¾“å‡ºæ–‡ä»¶ï¼Œå¯ä»¥æƒ³è±¡æˆæ–‡ä»¶æ”¾å†…å­˜ä¸­ï¼ŒnodeæœåŠ¡å¯ä»¥è®¿é—®åˆ°ï¼Œå› æ­¤æˆ‘ä»¬æ‰‹åŠ¨åˆ·æ–°æµè§ˆå™¨å¯ä»¥çœ‹åˆ°æ­£ç¡®ç»“æœã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install webpack-dev-server -D</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  ....,</span><br><span class="line">  mode: <span class="string">&#x27;.....&#x27;</span>,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    <span class="comment">// é¡¹ç›®æ„å»ºåè·¯å¾„</span></span><br><span class="line">    contentBase: resolve(__dirname, <span class="string">&#x27;build&#x27;</span>),</span><br><span class="line">    <span class="comment">// å¯åŠ¨gzipå‹ç¼©</span></span><br><span class="line">    compress: <span class="literal">true</span>,</span><br><span class="line">    <span class="comment">// ç«¯å£å·</span></span><br><span class="line">    port: <span class="number">3000</span>,</span><br><span class="line">    <span class="comment">// è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</span></span><br><span class="line">    open: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶æˆ‘å»ºè®®åœ¨ <code>package.json</code> çš„ <code>script</code> è„šæœ¬ä¸­å†™å…¥ä¸¤æ¡è„šæœ¬ï¼Œåˆ†åˆ«ç”¨äºä¹‹å‰çš„æ‰“åŒ…æ¨¡å¼å’Œå¼€å¯devServer æ¨¡å¼</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  ....,</span><br><span class="line">  &quot;scripts&quot;: &#123;</span><br><span class="line">    ....,</span><br><span class="line">    &quot;build&quot;: &quot;webpack&quot;,</span><br><span class="line">    &quot;build:prod&quot;: &quot;webpack --mode=production&quot;,</span><br><span class="line">    &quot;dev&quot;: &quot;webpack-dev-server --open&quot;,</span><br><span class="line">  &#125;,</span><br><span class="line">  ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è¿è¡Œ <code>npm run build</code> æˆ–è€…<code>npm run build:prod</code> è·å–ä¹‹å‰ç±»ä¼¼çš„è¾“å‡ºï¼Œ<code>npm run dev</code> å¼€å¯webpackæœåŠ¡,æ­¤æ—¶è¿˜ä¸æ”¯æŒçƒ­æ›´æ–°å’Œè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ï¼Œéœ€è¦æ‰‹åŠ¨åˆ·æ–°ï¼Œæ‰èƒ½çœ‹åˆ°ç»“æœã€‚</p>
<blockquote>
<p>æ›´å¤šdevServerçœ‹ <a target="_blank" rel="noopener" href="https://www.webpackjs.com/configuration/dev-server/">å®˜ç½‘é…ç½®</a></p>
</blockquote>
<h3 id="javascriptä»£ç å…¼å®¹æ€§"><a class="markdownIt-Anchor" href="#javascriptä»£ç å…¼å®¹æ€§"></a> Javascriptä»£ç å…¼å®¹æ€§</h3>
<p>å‰é¢é…ç½®äº†cssä»£ç çš„å…¼å®¹æ€§å¤„ç†ï¼Œä½†æ˜¯JSä»£ç å…¶å®æ›´éœ€è¦å…¼å®¹ï¼ŒJSä¸å…¼å®¹å¯èƒ½å°±æ˜¯æ— æ³•è¿è¡Œã€‚å¤„ç†JSå…¼å®¹å½“ç„¶å°±æ˜¯<code>babel</code>å®¶æ—ã€‚<a target="_blank" rel="noopener" href="https://www.babeljs.cn/">babelå®˜ç½‘</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm install @babel&#x2F;cli @babel&#x2F;core @babel&#x2F;preset-env babel-loader -D</span><br><span class="line"></span><br><span class="line">npm install @babel&#x2F;plugin-transform-runtime  -D </span><br><span class="line"></span><br><span class="line">npm install @babel&#x2F;plugin-proposal-class-properties -D</span><br><span class="line"></span><br><span class="line">npm install @babel&#x2F;runtime @babel&#x2F;runtime-corejs2 --save</span><br></pre></td></tr></table></figure>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ç¼–å†™ <code>babel.config.js</code> æ–‡ä»¶,å†™å…¥å¦‚ä¸‹é…ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">       [</span><br><span class="line">         <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">         <span class="comment">//æŒ‡å®šè¦å…¼å®¹çš„æµè§ˆå™¨ï¼Œä»¥åŠç‰ˆæœ¬</span></span><br><span class="line">         <span class="string">&quot;targets&quot;</span>: &#123;</span><br><span class="line">          <span class="string">&quot;esmodules&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">          <span class="string">&quot;chrome&quot;</span>: <span class="string">&#x27;60&#x27;</span>,</span><br><span class="line">          <span class="string">&quot;firefox&quot;</span>: <span class="string">&#x27;60&#x27;</span>,</span><br><span class="line">          <span class="string">&quot;ie&quot;</span>: <span class="string">&#x27;9&#x27;</span>,</span><br><span class="line">          <span class="string">&quot;safari&quot;</span>: <span class="string">&#x27;10&#x27;</span>,</span><br><span class="line">           <span class="string">&quot;edge&quot;</span>: <span class="string">&#x27;17&#x27;</span></span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">    ],</span><br><span class="line">  <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">    [<span class="string">&quot;@babel/plugin-transform-runtime&quot;</span>, &#123;</span><br><span class="line">      <span class="string">&quot;corejs&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    &#125;],</span><br><span class="line">    <span class="string">&quot;@babel/transform-arrow-functions&quot;</span>,</span><br><span class="line">    <span class="string">&quot;@babel/plugin-proposal-class-properties&quot;</span></span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨webpack.config.jsä¸­ç”¨babelå¤„ç†js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">  entry:<span class="string">&quot;....&quot;</span>,</span><br><span class="line">  output:<span class="string">&quot;....&quot;</span>,</span><br><span class="line">  <span class="built_in">module</span>:&#123;</span><br><span class="line">    rules:[</span><br><span class="line">      &#123; </span><br><span class="line">        <span class="comment">// åŒ¹é…jså’Œjsxæ–‡ä»¶</span></span><br><span class="line">        test: <span class="regexp">/\.tsx?$/</span>,</span><br><span class="line">        use: [<span class="string">&quot;babel-loader&quot;</span>],</span><br><span class="line">        <span class="comment">//æ’é™¤node_modulesé‡Œé¢çš„æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">// é˜²æ­¢babelç¼–è¯‘äº†ï¼Œnode_modulesé‡Œé¢ä»£ç åŒ…ã€‚</span></span><br><span class="line">        exclude: [join(__dirname, <span class="string">&quot;node_modules&quot;</span>)]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„babelé…ç½® (æˆ‘ç”¨çš„æ˜¯<a target="_blank" rel="noopener" href="https://babeljs.io/docs/en/v7-migration">babel7</a>çš„é…ç½®) æ˜¯æˆ‘ä¸Šæ¬¡é…ç½®tsçš„ï¼Œä¸çŸ¥é“ä¼šä¸ä¼šå‡ºé”™ï¼Œåº”è¯¥æ²¡æœ‰é—®é¢˜ï¼Œ <code>presets</code> é‡Œé¢æŒ‡å®šäº†<code>target</code>, <code>core-js</code> éƒ¨åˆ†æ²¡é—®é¢˜ï¼Œåº”è¯¥å°±å¯ä»¥å…¼å®¹ieã€‚</p>
<blockquote>
<p>æˆ‘è®¤ä¸º webpackæœ€å¥½çš„æ•™ç¨‹æ˜¯æ¥æºä¸å®˜ç½‘ï¼Œè¿™æ˜¯æˆ‘çœ‹äº†å®˜ç½‘å’Œç½‘ä¸Šæ‰¾çš„ä¸€äº›è§†é¢‘æ•™ç¨‹ä¹‹åæ€»ç»“çš„ä¸€äº›åŸºç¡€æ“ä½œï¼Œè¯¦ç»†çš„é…ç½®å¯çœ‹ <a target="_blank" rel="noopener" href="https://webpack.docschina.org/">webpackå®˜ç½‘~ä¸­æ–‡</a>ï¼Œæœ¬æ–‡ä¸­éƒ¨åˆ†æ–‡å­—æ¥æºäºå°šç¡…è°·çš„è§†é¢‘ï¼Œæ„Ÿè°¢å°šç¡…è°·è€å¸ˆçš„åˆ†äº«ã€‚ã€è¿™ä¸æ˜¯å¹¿å‘Šåªæ˜¯ä¸ºäº†å£°æ˜ç‰ˆæƒğŸ˜‚ã€‘</p>
</blockquote>
<blockquote>
<p>ä»¥ä¸Šå·®ä¸å¤šå°±æ˜¯ webpackçš„ä¸€äº›åŸºæœ¬æ“ä½œäº†,åé¢æ‰“ç®—æŠŠwebpacké…ç½®ä¼˜åŒ–éƒ¨åˆ†ä¹Ÿè¡¥ä¸Šï¼Œç„¶åè‡ªå·±å°è£…ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œå†åŠ ä¸Šä¸€äº›ESLintçš„é…ç½®,æ¬¢è¿å¤§å®¶æŒç»­å…³æ³¨ <a target="_blank" rel="noopener" href="http://lemonlife.top/"><strong>http://lemonlife.top</strong></a> æœ€è¿‘æœ‰ç‚¹å¿™/(ã„’oã„’)/~~</p>
</blockquote>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">ç…çŠæ—»</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://wmwgithub.github.io/2020/02/23/webpack/">https://wmwgithub.github.io/2020/02/23/webpack/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://wmwgithub.github.io">ç…çŠæ—»</a>ï¼</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a><a class="post-meta__tags" href="/tags/webpack/">webpack</a></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5e33bf91133aab4b" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/02/26/typescript/"><i class="fa fa-chevron-left">  </i><span>è®¾è®¡æ¨¡å¼(ä¸€)</span></a></div><div class="next-post pull-right"><a href="/2020/02/23/web-fundamentals-optimize/"><span>æµè§ˆå™¨å·¥ä½œåŸç†~ä¼˜åŒ–ç¯‡</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="gitalk-container"></div><script>var gitalk = new Gitalk({
  clientID: '55b93500c699e46ecd3c',
  clientSecret: 'b30789a22c5e9d2d1cff1a0aeb9d2af82ff4c6d9',
  repo: 'wmwgithub.github.io',
  owner: 'wmwgithub',
  admin: 'wmwgithub',
  id: md5(decodeURI(location.pathname)),
  language: 'zh-CN'
})
gitalk.render('gitalk-container')</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2019 - 2021 By ç…çŠæ—»</div><div class="framework-info"><span>é©±åŠ¨ - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.0"></script><script src="/js/fancybox.js?version=1.9.0"></script><script src="/js/sidebar.js?version=1.9.0"></script><script src="/js/copy.js?version=1.9.0"></script><script src="/js/fireworks.js?version=1.9.0"></script><script src="/js/transition.js?version=1.9.0"></script><script src="/js/scroll.js?version=1.9.0"></script><script src="/js/head.js?version=1.9.0"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« "></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>ç”±</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>æä¾›æ”¯æŒ</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>